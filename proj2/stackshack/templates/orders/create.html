{% extends "base.html" %}
{% block title %}Create New Order{% endblock %}
{% block content %}
<h2>Place New Order</h2>
<p>Select the items and quantities you wish to order from our menu.</p>

{% if items %}
<form method="POST" action="{{ url_for('order.place_order') }}">
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Category</th>
        <th>Price</th>
        <th>Quantity</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr class="{% if item.is_healthy_choice %}healthy-row{% endif %}">
        <td>
          <strong>{{ item.name }}</strong> 
          {% if item.is_healthy_choice %}
          <span style="font-size: 0.8em; color: #16a085;">ðŸ’š</span>
          {% endif %}
        </td>
        <td>{{ item.category | capitalize }}</td>
        <td>${{ "%.2f"|format(item.price) }}</td>
        <td>
          <input type="hidden" name="name_{{ item.id }}" value="{{ item.name }}">
          <input type="hidden" name="price_{{ item.id }}" value="{{ item.price }}">
          
          <input type="number" 
                 name="quantity_{{ item.id }}" 
                 value="0" 
                 min="0" 
                 style="width: 70px; padding: 5px; text-align: center; margin: 0 auto; display: block;"
                 placeholder="0">
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div style="margin-top: 25px; text-align: right;">
    
    <input type="submit" value="Place Order" class="cta-button" style="background: var(--primary-color); border: none;">
    
    <a href="{{ url_for('auth.dashboard') }}" 
       class="cta-button" 
       style="background: #95a5a6; 
              margin-left: 10px;
              /* Force button appearance and override default link styles */
              display: inline-block !important; 
              color: white !important;
              text-decoration: none !important;
              padding: 10px 18px;
              border-radius: 6px;
              line-height: 1;">
        Cancel
    </a>
  </div>
</form>
{% else %}
<p style="text-align: center; color: #999; margin-top: 40px; font-size: 1.1em;">
  The menu is currently unavailable.
</p>
{% endif %}
{% endblock %}